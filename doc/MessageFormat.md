# Формат сообщений RAO
---
### Общие:
#### Формат сообщения от клиента к серверу:
```javascript
{
    "type": msg_type, // Возможные варианты сообщений описаны ниже, отдельно для клиента и сервера
    "api": api_version, // Всегда необходимо указывать версию интерфейса
    "data": {} // Все данные запросы помещаются сюда, формат зависит от версии api
}
```

#### Формат сообщения от сервера к клиенту:
```javascript
{
    "type": msg_type, // Возможные варианты сообщений описаны ниже, отдельно для клиента и сервера
    "code": msg_code, // Расшифровка кодов описана ниже
    "error": "сообщение", // Присутствует только в случае ошибки
    "data": {} // Все данные запросы помещаются сюда, формат зависит от версии api
}
```
---
### От сервера:
Возможные msg_type:
-  *information* - игровая информация (карта, игроки, враги)
-  *status* - информация по игроку
-  *response* - ответ на некоторые запросы клиента
 
---
### От клиента:
Возможные msg_type:
- *connect* - подключение к серверу
- *connect_room* - подключение к игровой комнате
- *disconnect* - отключение от сервера
- *control* - команды для управления героем во время игры
- *request* - запрос на получения информации
- *status* - запрос статуса игрока (играет ли сейчас, краткое описание героя)

---
### Коды сообщений (msg_code):
- 200 successful - успешно
- 403 forbidden - запрещено
- 1 api.incorrect_version - не указана версия метода
- 2 json.incorrect_format - неверный формат данных для типа сообщения: msg_type
- 3 json.incorrect_data - неверные значения данных для типа сообщения: msg_type

